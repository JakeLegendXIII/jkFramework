angular.module("jkFramework",["jkMenu","jkDashboard"]),angular.module("jkFramework").directive("jkUserProfileSmall",function(){return{templateUrl:"ext-modules/jkFramework/jkUserProfile/jkUserProfileSmallTemplate.html"}}),angular.module("jkFramework").directive("jkUserProfile",function(){return{templateUrl:"ext-modules/jkFramework/jkUserProfile/jkUserProfileTemplate.html"}}),angular.module("jkMenu",["ngAnimate"]),angular.module("jkMenu").run(["$templateCache",function(e){e.put("ext-modules/jkMenu/jkMenuGroupTemplate.html",'\r\n<li class="jk-selectable-item" ng-click="clicked()" ng-class="{\'jk-item-horizontal\': !isVertical()}">\r\n    <div class="jk-noselect">\r\n        <i class="fa {{icon}} jk-menu-icon"></i>\r\n        {{label}}\r\n        <i ng-if="isVertical()"\r\n           class="fa fa-chevron-left jk-group-indicator-left"\r\n           ng-class="{\'fa-rotate-270\': isOpen}"></i>\r\n    </div>\r\n</li>\r\n<div ng-show="isOpen" class="jk-subitem-section jk-fade-in-animation" ng-class="{\'jk-popup-menu\': !isVertical() }">\r\n    <ul ng-transclude></ul>\r\n</div>'),e.put("ext-modules/jkMenu/jkMenuItemTemplate.html",'\r\n<li class="jk-selectable-item" ng-class="{\'jk-item-horizontal\': !isVertical()}">\r\n    <div class="jk-noselect">\r\n        <i class="fa {{icon}} jk-menu-icon"></i>\r\n        {{label}}\r\n    </div>\r\n    <i ng-if="isActive() && isVertical()"\r\n       class="fa fa-2x fa-caret-left jk-menu-active-indicator"></i>\r\n</li>\r\n'),e.put("ext-modules/jkMenu/jkMenuTemplate.html",'<div class="jk-menu-area"\r\n     ng-show="showMenu"\r\n     ng-class="{\'jk-menu-area-vertical\': isVertical, \'jk-menu-area-horizontal\': !isVertical}">\r\n    <ul class="jk-menu" ng-transclude></ul>\r\n    <a class="btn jk-menu-layout-button"\r\n       ng-show="allowHorizontalToggle"\r\n       ng-class="{\'jk-layout-button-horizontal\': !isVertical}"\r\n       ng-click="toggleMenuOrientation()">\r\n        <i class="fa"\r\n           ng-class="{\'fa-chevron-up\': isVertical, \'fa-chevron-left\': !isVertical}"></i>\r\n    </a>\r\n</div>')}]),angular.module("jkMenu").directive("jkMenuItem",function(){return{require:"^jkMenu",scope:{label:"@",icon:"@",route:"@"},templateUrl:"ext-modules/jkMenu/jkMenuItemTemplate.html",link:function(e,n,t,i){e.isActive=function(){return n===i.getActiveElement()},e.isVertical=function(){return i.isVertical()||n.parents(".jk-subitem-section").length>0},n.on("click",function(t){t.stopPropagation(),t.preventDefault(),e.$apply(function(){i.setActiveElement(n),i.setRoute(e.route)})})}}}),angular.module("jkMenu").directive("jkMenuGroup",function(){return{require:"^jkMenu",transclude:!0,scope:{label:"@",icon:"@"},templateUrl:"ext-modules/jkMenu/jkMenuGroupTemplate.html",link:function(e,n,t,i){e.isOpen=!1,e.closeMenu=function(){e.isOpen=!1},e.clicked=function(){e.isOpen=!e.isOpen,0==n.parents(".jk-subitem-section").length&&e.setSubmenuPosition(),i.setOpenMenuScope(e)},e.isVertical=function(){return i.isVertical()||n.parents(".jk-subitem-section").length>0},e.setSubmenuPosition=function(){var e=n.offset();$(".jk-subitem-section").css({left:e.left+20,top:36})}}}}),angular.module("jkMenu").directive("jkMenu",["$timeout",function(e){return{scope:{},transclude:!0,templateUrl:"ext-modules/jkMenu/jkMenuTemplate.html",controller:"jkMenuController",link:function(n,t,i){var r=t.find(".jk-selectable-item:first");e(function(){r.trigger("click")})}}}]),angular.module("jkMenu").controller("jkMenuController",["$scope","$rootScope",function(e,n){e.isVertical=!0,e.openMenuScope=null,e.showMenu=!0,e.allowHorizontalToggle=!0,this.getActiveElement=function(){return e.activeElement},this.setActiveElement=function(n){e.activeElement=n},this.isVertical=function(){return e.isVertical},this.setRoute=function(e){n.$broadcast("jk-menu-item-selected-event",{route:e})},this.setOpenMenuScope=function(n){e.openMenuScope=n},e.toggleMenuOrientation=function(){e.openMenuScope&&e.openMenuScope.closeMenu(),e.isVertical=!e.isVertical,n.$broadcast("jk-menu-orientation-changed-event",{isMenuVertical:e.isVertical})},angular.element(document).bind("click",function(n){if(e.openMenuScope&&!e.isVertical){if($(n.target).parent().hasClass("jk-selectable-item"))return;e.$apply(function(){e.openMenuScope.closeMenu()}),n.preventDefault(),n.stopPropagation()}}),e.$on("jk-menu-show",function(n,t){e.showMenu=t.show,e.isVertical=t.isVertical,e.allowHorizontalToggle=t.allowHorizontalToggle})}]),angular.module("jkFramework").run(["$templateCache",function(e){e.put("ext-modules/jkFramework/jkFrameworkTemplate.html",'\r\n<div class="jk-title-bar">\r\n    <div class="row">\r\n        <div class="jk-logo-area col-sm-6">\r\n            <img class="jk-icon" ng-src="{{ iconFile }}" />\r\n            <div class="jk-title-area">\r\n                <p class="jk-logo-title">{{ title }}</p>\r\n                <p class="jk-logo-subtitle">{{ subtitle }}</p>\r\n            </div>\r\n\r\n            <div ng-if="isMenuButtonVisible" ng-click="menuButtonClicked()"\r\n                 class="jk-collapsed-menu pull-right">\r\n                <button type="button" class="btn jk-nav-button">\r\n                    <i class="fa fa-bars"></i>\r\n                </button>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class="jk-right-side-controls col-sm-6">\r\n            <div>\r\n                <jk-user-profile-small></jk-user-profile-small>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!--<div class="jk-menu-area"\r\n     ng-show="isMenuVisible"\r\n     ng-class="{\'jk-menu-area-vertical\': isMenuVertical, \'jk-menu-area-horizontal\': !isMenuVertical}">\r\n    <jk-user-profile></jk-user-profile>\r\n</div>-->\r\n\r\n<ng-transclude></ng-transclude>\r\n\r\n<div ng-view class="jk-view"\r\n     ng-class="{\'jk-view-full-width\': !isMenuVertical || !isMenuVisible}">\r\n</div>\r\n\r\n\r\n'),e.put("ext-modules/jkFramework/jkUserProfile/jkUserProfileSmallTemplate.html",'\r\n<div class="jk-user-profile-small pull-right">\r\n    <span>Don Morgan</span>\r\n    <button class="btn btn-default btn-sm">\r\n        <i class="fa fa-chevron-down"></i>\r\n    </button>\r\n</div>\r\n'),e.put("ext-modules/jkFramework/jkUserProfile/jkUserProfileTemplate.html",'\r\n<div class="jk-user-profile" ng-if="isMenuVertical && !isMenuButtonVisible">\r\n    <div>\r\n        <p>Don</p>\r\n        <p>Morgan</p>\r\n        <button class="btn btn-default btn-sm">\r\n            <i class="fa fa-chevron-down"></i>\r\n        </button>\r\n    </div>\r\n</div>\r\n')}]),angular.module("jkFramework").directive("jkFramework",function(){return{transclude:!0,scope:{title:"@",subtitle:"@",iconFile:"@"},controller:"jkFrameworkController",templateUrl:"ext-modules/jkFramework/jkFrameworkTemplate.html"}}),angular.module("jkFramework").controller("jkFrameworkController",["$scope","$window","$timeout","$rootScope","$location",function(e,n,t,i,r){e.isMenuVisible=!0,e.isMenuButtonVisible=!0,e.isMenuVertical=!0,e.$on("jk-menu-item-selected-event",function(n,t){e.routeString=t.route,r.path(t.route),l(),a()}),e.$on("jk-menu-orientation-changed-event",function(i,r){e.isMenuVertical=r.isMenuVertical,t(function(){$(n).trigger("resize")},0)}),$(n).on("resize.jkFramework",function(){e.$apply(function(){l(),a()})}),e.$on("$destroy",function(){$(n).off("resize.jkFramework")});var l=function(){var t=Math.max($(n).width(),n.innerWidth);e.isMenuVisible=t>=768,e.isMenuButtonVisible=!e.isMenuVisible};e.menuButtonClicked=function(){e.isMenuVisible=!e.isMenuVisible,a()};var a=function(){i.$broadcast("jk-menu-show",{show:e.isMenuVisible,isVertical:e.isMenuVertical,allowHorizontalToggle:!e.isMenuButtonVisible})};t(function(){l()},0)}]),angular.module("jkDashboard",["gridster","ui.bootstrap"]),angular.module("jkDashboard").run(["$templateCache",function(e){e.put("ext-modules/jkDashboard/jkDashboardTemplate.html",'\r\n<div class="jk-dashboard-header">\r\n    {{ title }}\r\n\r\n    <div class="jk-dashboard-controls">\r\n        <div class="dropdown">\r\n            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">\r\n                <i class="fa fa-plus"></i>\r\n                Add Widget\r\n                <span class="caret"></span>\r\n            </button>\r\n            <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">\r\n                <li ng-repeat="widget in widgetDefinitions">\r\n                    <a role="menuitem" ng-click="addNewWidget(widget)">{{widget.title}}</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div gridster="gridsterOpts">\r\n    <ul>\r\n        <li gridster-item="item" ng-repeat="item in widgets">\r\n            <jk-widget-body>\r\n            </jk-widget-body>\r\n        </li>\r\n    </ul>\r\n</div>'),e.put("ext-modules/jkDashboard/jkWidgetBodyTemplate.html",'<div class="jk-widget-body">\r\n    <div class="jk-widget-menu-area btn-group">\r\n        <a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">\r\n            <i class="fa fa-bars" ng-click="iconClicked()" />\r\n        </a>\r\n\r\n        <ul class="dropdown-menu" role="menu">\r\n            <li ng-click="close()"><i class="fa fa-2x fa-close" ng-click="iconClicked()"></i></li>\r\n            <li ng-click="settings()"><i class="fa fa-2x fa-gear" ng-click="iconClicked()"></i></li>\r\n        </ul>\r\n    </div>\r\n</div>')}]),angular.module("jkDashboard").directive("jkWidgetBody",["$compile","$uibModal",function(e,n){return{templateUrl:"ext-modules/jkDashboard/jkWidgetBodyTemplate.html",link:function(t,i,r){var l=angular.element(t.item.template);i.append(l),e(l)(t),t.close=function(){t.widgets.splice(t.widgets.indexOf(t.item),1)},t.settings=function(){var e={templateUrl:t.item.widgetSettings.templateUrl,controller:t.item.widgetSettings.controller,scope:t};n.open(e)},t.iconClicked=function(){}}}}]),angular.module("jkDashboard").directive("jkDashboard",function(){return{templateUrl:"ext-modules/jkDashboard/jkDashboardTemplate.html",link:function(e,n,t){e.addNewWidget=function(n){var t=angular.copy(n.settings);e.widgets.push(t)}}}});